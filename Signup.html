<!DOCTYPE html>
<html>
<head>
<title>Create Account</title>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js"></script>
<script type="module" src="firebase.js"></script>
</head>

<body>
<h2>Create Account</h2>

<input id="name" placeholder="Full Name"><br><br>
<input id="email" placeholder="Email"><br><br>
<input id="password" type="password" placeholder="Password"><br><br>
<button id="signupBtn">Create Account</button>

<script type="module">
import { auth, db } from './firebase.js';
import { setDoc, doc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

document.getElementById("signupBtn").onclick = async () => {
  const name = name.value;
  const email = email.value;
  const pass = password.value;

  const user = await auth.createUserWithEmailAndPassword(email, pass);

  await setDoc(doc(db, "users", user.user.uid), {
    name: name,
    email: email
  });

  window.location.href = "login.html";
};
</script>

</body>
</html>
