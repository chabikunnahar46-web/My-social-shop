<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bondhutto24 - Home</title>
<script type="module">
  // ==============================
  // Firebase Setup
  // ==============================
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { getStorage, ref, uploadBytesResumable, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";

  const firebaseConfig = {
      apiKey: "AIzaSyA33of57qBOpIUioKDQ7dMx0KZR6OXLECY",
      authDomain: "bondhotto-24.firebaseapp.com",
      projectId: "bondhotto-24",
      storageBucket: "bondhotto-24.appspot.com",
      messagingSenderId: "585952718894",
      appId: "1:585952718894:web:1d9b2e9f12f617a2f2afbf"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const auth = getAuth(app);
  const storage = getStorage(app);

  console.log("ðŸ”¥ Firebase Connected");

  // ==============================
  // Auth Functions
  // ==============================
  window.signUp = async () => {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    try {
      await createUserWithEmailAndPassword(auth, email, password);
      alert("âœ… Sign Up Successful");
    } catch (err) { alert(err.message); }
  }

  window.logIn = async () => {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    try {
      await signInWithEmailAndPassword(auth, email, password);
      alert("âœ… Logged In Successfully");
    } catch (err) { alert(err.message); }
  }

  window.logOut = async () => {
    await signOut(auth);
    alert("âœ… Logged Out");
  }

  // ==============================
  // Add Post Function
  // ==============================
  window.addPost = async () => {
    const text = document.getElementById("postText").value;
    const imageFile = document.getElementById("postImage").files[0];
    if(!text && !imageFile) return alert("Post cannot be empty!");

    let imageUrl = "";
    if(imageFile){
